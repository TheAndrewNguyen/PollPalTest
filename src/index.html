<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      let autocomplete;
      function initAutocomplete() {
        autocomplete = new google.maps.places.Autocomplete(
          document.getElementById('addressInput'),
          {
            types: ['address'],
            componentRestrictions: {'country':['us']},
            fields: ['formatted_address']
          }); 
      }
    </script>
    <script 
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDizY3AoobJX2jDrIH0VeChUcmKpVnDZTk&loading=async&libraries=places&callback=initAutocomplete"
      async defer>
    </script>
    <title>Poll Pal</title>
  </head>
  <body>
    <div id="app">
      <!-- Header -->
      <header class="header">
        <a href=""><h1>Poll Pal üó≥Ô∏è</h1></a>
        <p class="tagline">Stay informed ‚ÑπÔ∏è Your Vote Matters ‚úÖ Save the World üåç</p>
      </header>

      <!-- Main Container -->
      <main class="main-container">
        <div class="input-group">
          <input
            type="text"
            id="addressInput"
            placeholder="Enter your full street address"
            required
          />
          <button id="searchBtn">Find Elections</button>
        </div>

        <!-- Results Div -->
        <div id="results" class="hidden">
        
          <!-- If Successful -->
          <div id="resultSuccess" class="hidden">
            <h2>Upcoming Elections: </h2>
            <div id="Info" class="results">
              <h2 id="locationName"></h2>
              <!--Election Date-->
              <h3>Election Date:</h3>
              <p>üìÖ <span id="electionDate"></span></p>
              <!-- Resources -->
              <h3>Resources:</h3>
              <ul>
                <li><a href="#" target="_blank" id="electionInfo">Election Info</a></li>
                <li><a href="#" target="_blank" id="registerLink">Register to Vote</a></li>
                <li><a href="./map.html" target="_blank" id="mapLink">Where to vote</a></li>
              </ul>
            </div>
          </div>

          <!-- If not successful -->
          <div id="resultFail" class="results hidden">
            <p>We do not have info on upcoming elections for this address yet.</p>
            <p>Information about upcoming elections is usually available 2-4 weeks before an election.</p>
            <p>In the mean time you can <a href="">try again</a> or check out our <a href="https://www.votinginfoproject.org/election-coverage" target="_blank"> current elections</a> coverage.</p>
          </div>

        </div>
      </main>

      <!-- Footer -->
      <footer class="footer">
        Powered by Google Civic API.
      </footer>
    </div>
  </body>
</html>
